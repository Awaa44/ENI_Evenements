{% extends 'base.html.twig' %}

{% block title %}Mon profil{% endblock %}

{% block body %}
    <h1>Mon profil</h1>

    {{ form_start(profilForm, {'attr': {'novalidate': 'novalidate', 'data-turbo': 'false', 'enctype': 'multipart/form-data'}}) }}
    {% for error in profilForm.vars.errors %}
        <div class="alert alert-danger">{{ error.message }}</div>
    {% endfor %}

    {{ form_errors(profilForm) }}

    {{ form_row(profilForm.pseudo) }}
    {{ form_row(profilForm.nom) }}
    {{ form_row(profilForm.prenom) }}
    {{ form_row(profilForm.telephone) }}
    {{ form_row(profilForm.email) }}

    {{ form_row(profilForm.plainPassword) }}

    {{ form_row(profilForm.photo) }}
    {% if app.user.photo %}
        <img src="{{ asset('uploads/photos/' ~ app.user.photo) }}" alt="Photo de profil" style="width: 150px; height: 150px; object-fit: cover;">
    {% else %}
        <img src="{{ asset('images/default-avatar.png') }}" alt="Photo par dÃ©faut">
    {% endif %}

    <a href="{{ path('app_home_index') }}" class="btn btn-secondary">Annuler</a>
    <button type="submit" class="btn btn-primary">Enregistrer</button>
    {{ form_end(profilForm) }}
{% endblock %}
